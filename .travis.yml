language: cpp
sudo: false
addons:
  apt:
    sources:
    - ubuntu-toolchain-r-test
    - boost-latest
    - llvm-toolchain-precise
    - kubuntu-backports
    packages:
    - libgmp-dev
    - libmpfr-dev
    - libboost1.55-all-dev
    - libboost-serialization1.55-dev
    - libboost-system1.55-dev
    - libboost-chrono1.55-dev
    - libboost-timer1.55-dev
    # This includes both Boost.Python 2 and 3.
    - libboost-python1.55-dev
    - python3-dev
    - python-numpy
    - python3-numpy
    - python-pip
    - g++-4.8
    - clang-3.8
    - doxygen
    - graphviz
    - graphviz-dev
    - cmake
    - texlive

env:
  global:
    - secure: "JVEgw1sDHIVwD4QkZWfFvsolneJK9g3goN6jYG7M9NOUHrbz7qn9sgYoLY1QYmQ/HFl26D8tIrA95bk+xtCby98kqQnt50pjRoNjLrKUraiWopsqtR4cOFXXbffiBw+0sczaTXy95QIDL9EMjkAxOnTeUvK7OVg21/ANGWEQFcU24TbQ9sP3qM+L3k9bOIN4HVK61exGQeQRExSLUU21i1vSEZjqn74c2BHpOsEz13C8UwXgY7d9VXXSbZ5i7Z/6oYb6h7mve9ojDsvuv27SDsEXPA7InXKXvyfJu4v2bcEA79sPahafNZO/PA5RskZFjR4oCPiZxb/SIsCptRrwleAkWnWfM1Wp3XE5o4ZUozzO/16Fhvyu4PpJ8SYMONiTFfvu2+7yXQkAUaxRq4hjvz2LByr6c43n+dvZcIogZiSNJSJquLLJw0/tGtHELg8CfxnSEMTRVDcqQSuvkX2yV/DN/2rG/aJkpYAmvW4dxO3WvvyLXr/Hh93xOlbhlXkZDNuHslhVso4Mo6i38Kmp7HdTx5IdfY3e/szLJ3sMc0Oi9sW3CVOHW6vzDDksIwd1LzIrrd9GGIEIUrzNR/I2fOzbUSJbOiyHZGbSEIM0Z8EI4lYW67qTxZMNlFfwvcZCbM6o3pZS2xRbg8Rft267WIaDfFeeaxI26xstqUOQk4Y="

matrix:
  include:
    #- compiler: gcc
      #env: BUILD_TYPE="Release"
    #- compiler: gcc
      #env: BUILD_TYPE="Debug" SPLIT_TEST_NUM="0"
    #- compiler: gcc
      #env: BUILD_TYPE="Debug" SPLIT_TEST_NUM="1"
    #- compiler: gcc
      #env: BUILD_TYPE="Debug" SPLIT_TEST_NUM="2"
    #- compiler: clang
      #env: BUILD_TYPE="Release"
    #- compiler: clang
      #env: BUILD_TYPE="Debug" SPLIT_TEST_NUM="0"
    #- compiler: clang
      #env: BUILD_TYPE="Debug" SPLIT_TEST_NUM="1"
    #- compiler: clang
      #env: BUILD_TYPE="Debug" SPLIT_TEST_NUM="2"
    #- compiler: clang
      #env: BUILD_TYPE="Python2"
    #- compiler: clang
      #env: BUILD_TYPE="Python3"
    #- compiler: clang
      #env: BUILD_TYPE="Tutorial"
    - compiler: gcc
      env: BUILD_TYPE="Doxygen"

install:
    - if [[ "${CC}" == "gcc" ]]; then
          export PIRANHA_COMPILER=gcc;
          export CC=gcc-4.8;
          export CXX=g++-4.8;
      elif [[ "${CC}" == "clang" ]]; then
          export PIRANHA_COMPILER=clang;
          export CC=clang-3.8;
          export CXX=clang++-3.8;
      fi
    # - export BOOST_TEST_LOG_LEVEL="all"
script:
    - mkdir build
    - cd build
    - source ../tools/install_travis.sh
#after_success:
    #- if [[ "${BUILD_TYPE}" == "Debug" && "${PIRANHA_COMPILER}" == "clang" ]]; then
          #cd tests;
          #/home/travis/.local/bin/coveralls --gcov-options '\-lp';
      #fi
notifications:
  email: false
