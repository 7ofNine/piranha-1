<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Hello Piranha! &#8212; Piranha 0.9 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootswatch-3.3.6/flatly/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.9',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.3.6/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Fundamental numerical types in Piranha" href="fundamental_types.html" />
    <link rel="prev" title="Tutorial" href="tutorial.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body role="document">

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Piranha</a>
        <span class="navbar-text navbar-version pull-left"><b>0.9</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="getting_started.html">Quick install</a></li>
<li class="toctree-l1"><a class="reference internal" href="getting_started.html#id1">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference.html">Complete reference</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Hello Piranha!</a><ul>
<li><a class="reference internal" href="#your-first-piranha-program">Your first Piranha program</a><ul>
<li><a class="reference internal" href="#the-environment-class">The <code class="docutils literal"><span class="pre">environment</span></code> class</a></li>
</ul>
</li>
<li><a class="reference internal" href="#your-first-pyranha-program">Your first Pyranha program</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="tutorial.html" title="Previous Chapter: Tutorial"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm hidden-tablet">&laquo; Tutorial</span>
    </a>
  </li>
  <li>
    <a href="fundamental_types.html" title="Next Chapter: Fundamental numerical types in Piranha"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm hidden-tablet">Fundamental n... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/hello_piranha.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12 content">
      
  <div class="section" id="hello-piranha">
<span id="id1"></span><h1>Hello Piranha!<a class="headerlink" href="#hello-piranha" title="Permalink to this headline">¶</a></h1>
<div class="section" id="your-first-piranha-program">
<h2>Your first Piranha program<a class="headerlink" href="#your-first-piranha-program" title="Permalink to this headline">¶</a></h2>
<p>After following the <a class="reference internal" href="getting_started.html#getting-started"><span class="std std-ref">installation instructions</span></a>,
you should be able to compile and run your first C++ Piranha program:</p>
<div class="highlight-c++" id="hello-piranha-cpp"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1">// Include the standard I/O header.</span>
<span class="cp">#include</span> <span class="cpf">&lt;iostream&gt;</span><span class="cp"></span>

<span class="c1">// Include the global Piranha header.</span>
<span class="cp">#include</span> <span class="cpf">&quot;piranha.hpp&quot;</span><span class="cp"></span>

<span class="c1">// Import the names from the Piranha namespace.</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">piranha</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// Piranha initialisation.</span>
    <span class="n">init</span><span class="p">();</span>
    <span class="c1">// Print the rational number 4/3 to screen.</span>
    <span class="n">std</span><span class="o">::</span><span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">rational</span><span class="p">{</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">}</span> <span class="o">&lt;&lt;</span> <span class="sc">&#39;\n&#39;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</td></tr></table></div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The C++ code snippets shown in the tutorial are imported verbatim from the Piranha
source tree. You should take care of adjusting the include path of the <code class="docutils literal"><span class="pre">piranha.hpp</span></code> header
to the correct location on your system before attempting to compile the C++ code samples.
On Unix systems, if you installed Piranha in a standard <code class="docutils literal"><span class="pre">PREFIX</span></code>, the correct way
of including the Piranha header is <code class="docutils literal"><span class="pre">#include</span> <span class="pre">&lt;piranha/piranha.hpp&gt;</span></code>.</p>
</div>
<p>This program will just print to screen the rational number <span class="math">\(\frac{4}{3}\)</span>, represented
in Piranha by a class called (unsurprisingly) <code class="docutils literal"><span class="pre">rational</span></code>.
In Unix-like environments, you can compile this simple program with GCC via the command:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> g++ -std<span class="o">=</span>c++11 hello_piranha.cpp -lmpfr -lgmp
</pre></div>
</div>
<p>Note however that, since Piranha is a multi-threaded library, it will be likely necessary to link to
additional platform-specific threading libraries and/or enable threading-related compiler switches for
the compilation to be successful. For instance, on a modern GNU/Linux distribution, the correct switches are:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> g++ -std<span class="o">=</span>c++11 hello_piranha.cpp -lmpfr -lgmp -lpthread -pthread
</pre></div>
</div>
<p>A couple of things to note:</p>
<ul class="simple">
<li>we pass the <code class="docutils literal"><span class="pre">-std=c++11</span></code> flag to specify that we want to use the C++11 version of the C++ standard for the compilation.
Piranha is written in C++11, and this flag is necessary as long as GCC does not default to C++11 mode;</li>
<li>we specify via the <code class="docutils literal"><span class="pre">-lmpfr</span> <span class="pre">-lgmp</span></code> flags that the executable needs to be linked to the GMP and MPFR libraries (if
you do not do this, the program will still compile but the final linking will fail due to undefined references);</li>
<li>for this simple example, it is not necessary to link to any other library. If, however, Piranha&#8217;s serialization capabilities
are used, then it will be necessary to link the executable to the Boost Serialization library and to the bzip2 library;</li>
<li>Piranha itself is header-only, so there is no <code class="docutils literal"><span class="pre">-lpiranha</span></code> to link to.</li>
</ul>
<p>We also need to point out that for non-debug builds, the <code class="docutils literal"><span class="pre">NDEBUG</span></code> macro should be defined:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> g++ -O2 -DNDEBUG -std<span class="o">=</span>c++11 hello_piranha.cpp -lmpfr -lgmp -lpthread -pthread
</pre></div>
</div>
<p>If <code class="docutils literal"><span class="pre">NDEBUG</span></code> is not defined, a noticeable runtime overhead due to Piranha&#8217;s self-checking mechanism will be introduced.</p>
<p>If you installed Piranha in a custom <code class="docutils literal"><span class="pre">PREFIX</span></code>, you will need to specify on the command line where
the Piranha headers are located via the <code class="docutils literal"><span class="pre">-I</span></code> switch. E.g.,</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> g++ -I/home/username/.local/include -std<span class="o">=</span>c++11 hello_piranha.cpp -lmpfr -lgmp -lpthread -pthread
</pre></div>
</div>
<p>If the GMP and/or MPFR libraries are not installed in a standard path, you can use the <code class="docutils literal"><span class="pre">-L</span></code> switch to tell GCC
where to look for them:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> g++ -std<span class="o">=</span>c++11 hello_piranha.cpp -L/custom/library/path -lmpfr -lgmp -lpthread -pthread
</pre></div>
</div>
<p>After a successful compilation, the executable <code class="docutils literal"><span class="pre">a.out</span></code> can be run:</p>
<div class="highlight-console"><div class="highlight"><pre><span></span><span class="gp">$</span> ./a.out
<span class="go">4/3</span>
</pre></div>
</div>
<div class="section" id="the-environment-class">
<h3>The <code class="docutils literal"><span class="pre">environment</span></code> class<a class="headerlink" href="#the-environment-class" title="Permalink to this headline">¶</a></h3>
<p>As you can see from the <a class="reference internal" href="#hello-piranha-cpp"><span class="std std-ref">C++ code</span></a>, before starting to use the library we create
an <code class="docutils literal"><span class="pre">environment</span></code> object called <code class="docutils literal"><span class="pre">env</span></code>. The constructor of this object will setup the Piranha runtime environment,
performing the registration of cleanup functions to be automatically called when the program finishes, checking
that the required libraries were configured correctly, etc.</p>
<p>The creation of an <code class="docutils literal"><span class="pre">environment</span></code> object is not mandatory strictly speaking, but it is strongly encouraged and it might
become mandatory in the future.</p>
</div>
</div>
<div class="section" id="your-first-pyranha-program">
<h2>Your first Pyranha program<a class="headerlink" href="#your-first-pyranha-program" title="Permalink to this headline">¶</a></h2>
<p>The Python counterpart of the <a class="reference internal" href="#hello-piranha-cpp"><span class="std std-ref">C++ code</span></a> is:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># Import the standard Fraction class.</span>
<span class="kn">from</span> <span class="nn">fractions</span> <span class="kn">import</span> <span class="n">Fraction</span>
<span class="c1"># Import the pyranha module.</span>
<span class="kn">import</span> <span class="nn">pyranha</span>

<span class="c1"># Print the rational 4/3 to screen.</span>
<span class="k">print</span><span class="p">(</span><span class="n">Fraction</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>Two important differencese with respect to the C++ code should be evident.</p>
<p>First of all, in Python we do not need to create any <code class="docutils literal"><span class="pre">environment</span></code> object: importing the <code class="xref py py-mod docutils literal"><span class="pre">pyranha</span></code> module will automatically
take care of creating the environment object for us.</p>
<p>Secondly, in Python we do not use the <code class="docutils literal"><span class="pre">rational</span></code> class from Piranha, but we use the standard <code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code> class from
<code class="xref py py-mod docutils literal"><span class="pre">fractions</span></code> module. Indeed, Pyranha includes code to convert automatically the numerical types implemented in C++ to corresponding
types in Python. This means that, for instance, Piranha functions that in C++ return <code class="docutils literal"><span class="pre">rational</span></code> will return
<code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code> in Python, and C++ functions accepting a <code class="docutils literal"><span class="pre">rational</span></code> parameter will accept <code class="xref py py-class docutils literal"><span class="pre">Fraction</span></code> parameter
when called from Python.</p>
<p>The fundamental numerical types implemented in Piranha and their Python counterparts are the subject of the
<a class="reference internal" href="fundamental_types.html"><span class="doc">next tutorial chapter</span></a>.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2009-2016, Francesco Biscani.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>